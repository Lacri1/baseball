<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.baseball.game.mapper.MemberMapper">
	<select id="login" resultType="boolean">
		select count(*) from member where id=#{Id} and pw=#{Pw}
	</select>
	<select id="checkId" resultType="boolean">
		select count(*) from member where id=#{Id}
	</select>
	<insert id="register">
		insert into member(Id,Pw,email) values (#{Id},#{Pw},#{email})
	</insert>
	<select id="member" resultType="com.baseball.game.dto.MemberDto">
		select * from member where id=#{Id}
	</select>

	<!-- 게임/승/패 카운트 증가 쿼리 -->
	<update id="incrementGame">
		UPDATE member SET Game = COALESCE(Game,0) + 1 WHERE Id = #{Id}
	</update>
	<update id="incrementWin">
		UPDATE member SET Win = COALESCE(Win,0) + 1 WHERE Id = #{Id}
	</update>
	<update id="incrementLose">
		UPDATE member SET Lose = COALESCE(Lose,0) + 1 WHERE Id = #{Id}
	</update>
	<update id="incrementDraw">
		UPDATE member SET Draw = COALESCE(Draw,0) + 1 WHERE Id = #{Id}
	</update>
</mapper>
